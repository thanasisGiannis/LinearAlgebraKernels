message("Using CUDA")


find_package(CUDAToolkit REQUIRED)
find_package(OpenMP REQUIRED)
find_package(CUDA REQUIRED)

set(gpu_backend "cuda")

ADD_DEFINITIONS( -DDEVICE="true")

list(APPEND CUDA_NVCC_FLAGS -gencode arch=compute_30,code=sm_30 -DTHRUST_DEVICE_SYSTEM=${THRUST_DEVICE_SYSTEM} )
list(APPEND CUDA_NVCC_FLAGS -Xcompiler -fopenmp)
#CUDA::cusolver




